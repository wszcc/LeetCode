[{"D:\\PROJECT\\leetCode\\src\\index.tsx":"1","D:\\PROJECT\\leetCode\\src\\reportWebVitals.ts":"2","D:\\PROJECT\\leetCode\\src\\App.tsx":"3","D:\\PROJECT\\leetCode\\src\\router\\index.jsx":"4","D:\\PROJECT\\leetCode\\src\\router\\config.js":"5","D:\\PROJECT\\leetCode\\src\\pages\\profile\\Profile.js":"6","D:\\PROJECT\\leetCode\\src\\pages\\login\\Login.js":"7","D:\\PROJECT\\leetCode\\src\\pages\\questionlist\\QuestionList.js":"8","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\QuestionIndex.js":"9","D:\\PROJECT\\leetCode\\src\\pages\\resetpassword\\ResetPassword.js":"10","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\header\\Header.js":"11","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\Body.js":"12","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\Left.js":"13","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\submitrecord\\SubmitRecord.js":"14","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\desc\\Desc.js":"15","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\desc\\data.js":"16","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\right\\Right.js":"17","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\index.tsx":"18","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\components\\Editor.tsx":"19","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\components\\ConfigBar.tsx":"20","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\store\\index.ts":"21","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\components\\ConfigMain.tsx":"22","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\store\\reducer.ts":"23","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\store\\actions.ts":"24","D:\\PROJECT\\leetCode\\src\\components\\showModal\\index.tsx":"25","D:\\PROJECT\\leetCode\\src\\utils\\hooks\\index.ts":"26","D:\\PROJECT\\leetCode\\src\\config\\colors.ts":"27","D:\\PROJECT\\leetCode\\src\\apis\\index.ts":"28","D:\\PROJECT\\leetCode\\src\\utils\\shared.ts":"29","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\index.js":"30","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\saga\\rootSaga.js":"31","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\index.js":"32","D:\\PROJECT\\leetCode\\src\\pages\\login\\components\\LoginFooter\\index.jsx":"33","D:\\PROJECT\\leetCode\\src\\pages\\login\\components\\LoginHeader\\index.jsx":"34","D:\\PROJECT\\leetCode\\src\\pages\\login\\components\\LoginMain\\index.jsx":"35","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\phoneLogin.js":"36","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\pwdLogin.js":"37","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\constant.js":"38","D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\loginHeader.js":"39","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\mid\\index.tsx":"40"},{"size":417,"mtime":1611926463004,"results":"41","hashOfConfig":"42"},{"size":440,"mtime":1611827611826,"results":"43","hashOfConfig":"42"},{"size":270,"mtime":1611827611819,"results":"44","hashOfConfig":"42"},{"size":492,"mtime":1611827611827,"results":"45","hashOfConfig":"42"},{"size":669,"mtime":1611827611826,"results":"46","hashOfConfig":"42"},{"size":149,"mtime":1611827611822,"results":"47","hashOfConfig":"42"},{"size":1128,"mtime":1612057753301,"results":"48","hashOfConfig":"42"},{"size":165,"mtime":1611827611825,"results":"49","hashOfConfig":"42"},{"size":280,"mtime":1611827611823,"results":"50","hashOfConfig":"42"},{"size":168,"mtime":1611827611825,"results":"51","hashOfConfig":"42"},{"size":1819,"mtime":1611827611824,"results":"52","hashOfConfig":"42"},{"size":384,"mtime":1612061682759,"results":"53","hashOfConfig":"42"},{"size":888,"mtime":1612061617200,"results":"54","hashOfConfig":"42"},{"size":1617,"mtime":1611928955737,"results":"55","hashOfConfig":"42"},{"size":955,"mtime":1611928955737,"results":"56","hashOfConfig":"42"},{"size":851,"mtime":1611928955737,"results":"57","hashOfConfig":"42"},{"size":351,"mtime":1612060283777,"results":"58","hashOfConfig":"42"},{"size":636,"mtime":1612057937422,"results":"59","hashOfConfig":"42"},{"size":2920,"mtime":1612057937422,"results":"60","hashOfConfig":"42"},{"size":1470,"mtime":1612057937420,"results":"61","hashOfConfig":"42"},{"size":470,"mtime":1611926463006,"results":"62","hashOfConfig":"42"},{"size":3390,"mtime":1612057937421,"results":"63","hashOfConfig":"42"},{"size":1361,"mtime":1612057937425,"results":"64","hashOfConfig":"42"},{"size":859,"mtime":1612057937423,"results":"65","hashOfConfig":"42"},{"size":1673,"mtime":1611926463004,"results":"66","hashOfConfig":"42"},{"size":914,"mtime":1612057937426,"results":"67","hashOfConfig":"42"},{"size":125,"mtime":1611935458357,"results":"68","hashOfConfig":"42"},{"size":6021,"mtime":1611926463004,"results":"69","hashOfConfig":"42"},{"size":1891,"mtime":1612057937427,"results":"70","hashOfConfig":"42"},{"size":370,"mtime":1612057753306,"results":"71","hashOfConfig":"42"},{"size":124,"mtime":1611827611822,"results":"72","hashOfConfig":"42"},{"size":242,"mtime":1612057753306,"results":"73","hashOfConfig":"42"},{"size":2427,"mtime":1612057753302,"results":"74","hashOfConfig":"42"},{"size":338,"mtime":1612057753302,"results":"75","hashOfConfig":"42"},{"size":2574,"mtime":1612057753303,"results":"76","hashOfConfig":"42"},{"size":0,"mtime":1612057753307,"results":"77","hashOfConfig":"42"},{"size":0,"mtime":1612057753307,"results":"78","hashOfConfig":"42"},{"size":312,"mtime":1612057753305,"results":"79","hashOfConfig":"42"},{"size":410,"mtime":1612057753307,"results":"80","hashOfConfig":"42"},{"size":1119,"mtime":1612061593054,"results":"81","hashOfConfig":"42"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},"12bdsu8",{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"92"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"92"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"92"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"92"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"123","messages":"124","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"125","messages":"126","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"84"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"145"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\PROJECT\\leetCode\\src\\index.tsx",[],["170","171"],"D:\\PROJECT\\leetCode\\src\\reportWebVitals.ts",[],"D:\\PROJECT\\leetCode\\src\\App.tsx",[],"D:\\PROJECT\\leetCode\\src\\router\\index.jsx",["172"],"import React from \"react\";\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport routerMap from \"./config\";\r\n\r\n\r\nconst RouterView = () => {\r\n  return (\r\n    <Router>\r\n      {/* <Redirect to=\"/home\"></Redirect> */}\r\n      <Switch>\r\n        {routerMap.map((item,index) => (\r\n          <Route key={index} path={item.path} component={item.component}></Route>\r\n        ))}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default RouterView;\r\n",["173","174"],"D:\\PROJECT\\leetCode\\src\\router\\config.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\profile\\Profile.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\Login.js",["175","176","177","178","179","180","181"],"D:\\PROJECT\\leetCode\\src\\pages\\questionlist\\QuestionList.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\QuestionIndex.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\resetpassword\\ResetPassword.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\header\\Header.js",["182","183","184"],"import React from \"react\";\r\nimport Logo from \"../../../../assets/imgs/logo.svg\";\r\nimport \"./header.scss\";\r\nimport { Menu, Dropdown } from \"antd\";\r\nimport {Link} from 'react-router-dom'\r\nimport {\r\n  RightSquareOutlined,\r\n  BellOutlined,\r\n  UserOutlined,\r\n  DownOutlined\r\n} from \"@ant-design/icons\";\r\n\r\nfunction Header(props) {\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item key=\"0\">\r\n        <a\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          href=\"http://www.alipay.com/\"\r\n        >\r\n          题目以中文显示\r\n        </a>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"1\">\r\n        <a\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n          href=\"http://www.taobao.com/\"\r\n        >\r\n          题目以英文显示\r\n        </a>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <div className=\"header\">\r\n      <ul className=\"header-nav\">\r\n        <li>\r\n          <img src={Logo} alt=\"力扣\"></img>\r\n        </li>\r\n        <li>学习</li>\r\n        <li>题库</li>\r\n        <li>讨论</li>\r\n        <li>竞赛</li>\r\n        <li>求职</li>\r\n        <li className=\"shop\">商店</li>\r\n        <li>\r\n          <a className=\"download\" href=\"#\">\r\n            下载 App\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a className=\"member\" href=\"#\">\r\n            Plus 会员\r\n          </a>\r\n        </li>\r\n        <Dropdown overlay={menu}>\r\n          <a className=\"ant-dropdown-link\" onClick={(e) => e.preventDefault()}>\r\n            中 <DownOutlined />\r\n          </a>\r\n        </Dropdown>\r\n        <li>\r\n          <RightSquareOutlined />\r\n        </li>\r\n        <li>\r\n          <BellOutlined />\r\n        </li>\r\n        <li>\r\n          <Link to='/profile'><UserOutlined /></Link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\Body.js",["185"],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\Left.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\submitrecord\\SubmitRecord.js",["186","187"],"import { Table, Tag, Space } from \"antd\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"提交时间\",\r\n    dataIndex: \"name\",\r\n    key: \"name\",\r\n    render: (text) => <a>{text}</a>,\r\n  },\r\n  {\r\n    title: \"提交结果\",\r\n    dataIndex: \"age\",\r\n    key: \"age\",\r\n  },\r\n  {\r\n    title: \"运行时间\",\r\n    dataIndex: \"address\",\r\n    key: \"address\",\r\n  },\r\n  {\r\n    title: \"内存消耗\",\r\n    key: \"tags\",\r\n    dataIndex: \"tags\",\r\n    render: (tags) => (\r\n      <>\r\n        {tags.map((tag) => {\r\n          let color = tag.length > 5 ? \"geekblue\" : \"green\";\r\n          if (tag === \"loser\") {\r\n            color = \"volcano\";\r\n          }\r\n          return (\r\n            <Tag color={color} key={tag}>\r\n              {tag.toUpperCase()}\r\n            </Tag>\r\n          );\r\n        })}\r\n      </>\r\n    ),\r\n  },\r\n  {\r\n    title: \"语言\",\r\n    key: \"action\",\r\n    render: (text, record) => (\r\n      <Space size=\"middle\">\r\n        <a>Invite {record.name}</a>\r\n      </Space>\r\n    ),\r\n  },\r\n];\r\n\r\nconst data = [\r\n  {\r\n    key: \"1\",\r\n    name: \"John Brown\",\r\n    age: 32,\r\n    address: \"New York No. 1 Lake Park\",\r\n    tags: [\"nice\", \"developer\"],\r\n  },\r\n  {\r\n    key: \"2\",\r\n    name: \"Jim Green\",\r\n    age: 42,\r\n    address: \"London No. 1 Lake Park\",\r\n    tags: [\"loser\"],\r\n  },\r\n  {\r\n    key: \"3\",\r\n    name: \"Joe Black\",\r\n    age: 32,\r\n    address: \"Sidney No. 1 Lake Park\",\r\n    tags: [\"cool\", \"teacher\"],\r\n  },\r\n];\r\n\r\nconst SubmitRecord = (props) => {\r\n  return (\r\n    <div className=\"submit-record\">\r\n      <Table pagination={false} columns={columns} dataSource={data} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubmitRecord;\r\n","D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\desc\\Desc.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\left\\desc\\data.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\right\\Right.js",["188"],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\index.tsx",["189"],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\components\\Editor.tsx",["190","191","192","193","194"],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\components\\ConfigBar.tsx",["195","196","197"],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\store\\index.ts",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\components\\ConfigMain.tsx",["198","199","200","201","202","203","204"],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\store\\reducer.ts",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\code-editor\\store\\actions.ts",[],"D:\\PROJECT\\leetCode\\src\\components\\showModal\\index.tsx",["205"],"/**\r\n * 食用方式像这样：\r\n *    点击 设置  就会弹出传入的content\r\n *    如果需要在某些情况手动关闭，比如网络请求成功后关掉弹框:\r\n *                            * 传入 ref \r\n *                            * myRef.current.close() 展示弹框\r\n *                            * myRef.current.open()  关闭弹框\r\n *     <ShowModal\r\n *       render={ <div>打开弹窗</div> }\r\n *       content={ <你的组件 /> }\r\n *       ref={myRef}\r\n *     />\r\n * \r\n */\r\nimport { forwardRef, memo, ReactNode, useImperativeHandle, useState } from 'react'\r\nimport { Modal } from 'antd'\r\n\r\ninterface Props {\r\n  className?:string\r\n  footer?: ReactNode\r\n  onCancel?(): void\r\n  show?: boolean\r\n  switch?: boolean\r\n  title?: string\r\n  render: ReactNode\r\n  content: ReactNode\r\n  [K: string]: any\r\n}\r\n\r\nconst ShowModal = forwardRef((props: Props, ref) => {\r\n  const {\r\n    footer,\r\n    onCancel,\r\n    content,\r\n    render,\r\n    show,\r\n  } = props\r\n  const [visible, setVisible] = useState(!!show)\r\n  useImperativeHandle(ref, () => ({\r\n    open: setVisible.bind(null, true),\r\n    close: setVisible.bind(null, false),\r\n  }), [ref, setVisible])\r\n\r\n  const click = () => {\r\n    setVisible(!visible)\r\n  }\r\n  const defaultOnChange = () => {\r\n    setVisible(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span onClick={click}>\r\n        {render}\r\n      </span>\r\n      <Modal\r\n        {...props}\r\n        style={{ padding: \"15px\" }}\r\n        visible={visible}\r\n        footer={footer || null}\r\n        maskClosable={true}\r\n        onCancel={onCancel || defaultOnChange}\r\n      >\r\n        {content}\r\n      </Modal>\r\n    </>\r\n  )\r\n})\r\n\r\nexport default memo(ShowModal)","D:\\PROJECT\\leetCode\\src\\utils\\hooks\\index.ts",["206","207","208"],"D:\\PROJECT\\leetCode\\src\\config\\colors.ts",[],"D:\\PROJECT\\leetCode\\src\\apis\\index.ts",["209","210","211","212","213"],"import axios from 'axios'\r\nimport { storage } from '../utils/shared'\r\n\r\ntype PendingQueue = ((...args: any) => void)[]\r\n\r\nconst BASE_URL = 'http://47.107.90.201:8080'\r\n\r\nconst CONNECT_LIMIT = 1 // 最大网络连接数\r\nconst TIMEOUT = 1000 * 10 //最大请求到期时间 10s\r\n\r\nlet retryNum = 0\r\nconst MAX_RETRY_NUM = 5\r\n\r\nexport enum ErrorCode {\r\n  Token_Expire_Code = 430,\r\n  RefreshToken_Expire_Code = 432,\r\n  No_Token = 425,\r\n  Abort = 16625,\r\n  Connect_Fail = 16626,\r\n  Succes = 200\r\n}\r\nlet now = window.performance\r\n  ? () => performance.now()\r\n  : () => Date.now();\r\nconst Concurrent_Timing = 2\r\n\r\nlet lastModified = 0\r\n\r\n/** 当前请求数 */\r\nlet requestNum = 0\r\nlet pendingQueue: PendingQueue = []\r\nlet isRefreshing = false\r\n\r\n/** 不需要token的请求 */\r\nconst whiteList = new Set([\r\n  '/user/resetToken',\r\n  '/user/login',\r\n  '/user/register',\r\n  '/user/checkEmail',\r\n  '/user/checkUserId',\r\n  '/user/sendActiveMail',\r\n  '/user/logout',\r\n  '/user/findBackPassword',\r\n  '/user/checkUserLegality',\r\n  '/token',\r\n])\r\n\r\nconst request = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: TIMEOUT\r\n})\r\n\r\nrequest.interceptors.request.use(\r\n  async config => {\r\n    if (!storage.get('token') && !whiteList.has(config.url!)) {\r\n      config.cancelToken = new axios.CancelToken(c => c())\r\n      return config\r\n    }\r\n    console.log('isRefreshing' + isRefreshing);\r\n    console.log('requestNum' + requestNum);\r\n\r\n    if (!config.headers.priority && (isRefreshing || requestNum >= CONNECT_LIMIT)) { //如果正在请求新的token，代表当前token是过期了的\r\n      try {\r\n        await block() //等待前面的请求完\r\n      } catch (e) {//这里表示等待时间过长, 仍然取消请求\r\n        config.cancelToken = new axios.CancelToken(c => c())\r\n        return config\r\n      }\r\n    }\r\n    requestNum++\r\n    config.headers = {\r\n      token: storage.get(\"token\") || \"\",\r\n      contentType: 'application/json;charset=utf-8',\r\n    }\r\n    config.data = {\r\n      userId: storage.get('userId') || ''\r\n    }\r\n    return config\r\n  }\r\n)\r\n\r\nrequest.interceptors.response.use(\r\n  async res => {\r\n    try {\r\n      if (res.data.error_code === ErrorCode.Token_Expire_Code) {\r\n        /**\r\n         *  token过期有两种情况\r\n         *  1.第一次过期, 重新请求token并且重新发送请求，将新的结果返回\r\n         *  2.并发请求中，全部过期，但是刚才有一个请求已经检测到过期，\r\n         *    于是已经重新获取token了，需要将这个请求重新发送\r\n         *  两种情况的判定：通过最近一次刷新token的时间（lastModified）来确定\r\n         */\r\n        console.log(now() - lastModified > Concurrent_Timing);\r\n\r\n        if (now() - lastModified > Concurrent_Timing) { //第一次过期\r\n          try {\r\n            console.log('refresh tk');\r\n            await refreshToken() //这里也会发一个请求，因此请求数+1了，因此这个函数最后会让请求数-1\r\n          } catch (e) { //连refreshToken也失效了，需要重新登陆了\r\n            storage.clear()\r\n            return e\r\n          }\r\n        }\r\n        requestNum--\r\n        //返回新的请求,舍弃之前的请求\r\n        const newRes = await request.request(res.config)\r\n        console.log(newRes);\r\n        return newRes\r\n      }\r\n      return res\r\n    } finally {\r\n      requestNum--\r\n      send()\r\n    }\r\n  },\r\n  err => {\r\n    /** 只有网络连接失败和取消请求（没有携带token）会走到这里 */\r\n    try {\r\n      if (axios.isCancel(err)) { //是被取消的请求\r\n        if (!storage.get('token')) { //因为没有token取消的，需要重新登陆\r\n          return {\r\n            ...err,\r\n            data: {\r\n              message: \"未登陆\",\r\n              error_code: ErrorCode.No_Token\r\n            }\r\n          }\r\n        }\r\n        return {\r\n          ...err,\r\n          data: {\r\n            message: '请求取消',\r\n            error_code: ErrorCode.Abort\r\n          }\r\n        }\r\n      }\r\n      /** 网络异常 */\r\n      return {\r\n        ...err,\r\n        data: {\r\n          message: \"网络异常\",\r\n          error_code: ErrorCode.Connect_Fail\r\n        }\r\n      }\r\n    } finally {\r\n      requestNum--\r\n      send()\r\n    }\r\n  }\r\n)\r\n\r\nrequest.interceptors.response.use(\r\n  res => {\r\n    if (res.data.error_code && res.data.error_code !== ErrorCode.Succes) {\r\n      throw {\r\n        message: res.data.message,\r\n        data: res.data\r\n      }\r\n    }\r\n    return res\r\n  }\r\n)\r\n\r\nasync function refreshToken() {\r\n  try {\r\n    isRefreshing = true\r\n    const refreshToken = storage.get('refreshToken')\r\n    const res = await request.post('/user/resetToken', {\r\n      refreshToken\r\n    }, {\r\n      headers: {\r\n        priority: 1 //刷新token是高权限请求可以不用阻塞直接插队\r\n      }\r\n    })\r\n    if (!res.data.data && !res.data.data.token && !res.data.data.refreshToken) {\r\n      console.log('refresh fail');\r\n      throw {\r\n        ...res,\r\n        data: {\r\n          error_code: ErrorCode.RefreshToken_Expire_Code\r\n        }\r\n      }\r\n    }\r\n    storage.set('token', res.data.data.token)\r\n    storage.set('refreshToken', res.data.data.refreshToken)\r\n  } catch (error) {  //如果refreshToken也过期, 清空过期期间的请求\r\n    pendingQueue = []\r\n    throw {\r\n      ...error,\r\n      data: {\r\n        error_code: ErrorCode.RefreshToken_Expire_Code\r\n      }\r\n    }\r\n  } finally {\r\n    isRefreshing = false\r\n    /** 这里也会发一个请求，因此请求数+1了，因此这个函数最后会让请求数-1 */\r\n    requestNum--\r\n    lastModified = now()\r\n  }\r\n}\r\n\r\n\r\nfunction block() {\r\n  return new Promise((resolve, reject) => {\r\n    const timerId: number = window.setTimeout(() => {\r\n      reject(undefined)\r\n    }, TIMEOUT)\r\n    pendingQueue.push(() => {\r\n      clearTimeout(timerId)\r\n      resolve(undefined)\r\n    })\r\n  })\r\n}\r\n\r\nfunction send() {\r\n  if (pendingQueue.length) {\r\n    const resolve = pendingQueue.shift()!\r\n    resolve(undefined)\r\n  }\r\n}\r\n\r\nexport default request",["214","215"],"D:\\PROJECT\\leetCode\\src\\utils\\shared.ts",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\index.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\saga\\rootSaga.js",["216"],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\index.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\components\\LoginFooter\\index.jsx",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\components\\LoginHeader\\index.jsx",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\components\\LoginMain\\index.jsx",["217"],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\phoneLogin.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\pwdLogin.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\constant.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\login\\store\\reducers\\loginHeader.js",[],"D:\\PROJECT\\leetCode\\src\\pages\\questionindex\\components\\body\\mid\\index.tsx",["218","219","220"],{"ruleId":"221","replacedBy":"222"},{"ruleId":"223","replacedBy":"224"},{"ruleId":"225","severity":1,"message":"226","line":6,"column":3,"nodeType":"227","messageId":"228","endLine":6,"endColumn":11},{"ruleId":"221","replacedBy":"222"},{"ruleId":"223","replacedBy":"224"},{"ruleId":"225","severity":1,"message":"229","line":1,"column":10,"nodeType":"227","messageId":"228","endLine":1,"endColumn":18},{"ruleId":"225","severity":1,"message":"230","line":1,"column":20,"nodeType":"227","messageId":"228","endLine":1,"endColumn":31},{"ruleId":"225","severity":1,"message":"231","line":2,"column":8,"nodeType":"227","messageId":"228","endLine":2,"endColumn":13},{"ruleId":"225","severity":1,"message":"232","line":3,"column":10,"nodeType":"227","messageId":"228","endLine":3,"endColumn":14},{"ruleId":"225","severity":1,"message":"233","line":5,"column":8,"nodeType":"227","messageId":"228","endLine":5,"endColumn":14},{"ruleId":"225","severity":1,"message":"234","line":6,"column":8,"nodeType":"227","messageId":"228","endLine":6,"endColumn":17},{"ruleId":"225","severity":1,"message":"235","line":7,"column":8,"nodeType":"227","messageId":"228","endLine":7,"endColumn":14},{"ruleId":"236","severity":1,"message":"237","line":49,"column":11,"nodeType":"238","endLine":49,"endColumn":44},{"ruleId":"236","severity":1,"message":"237","line":54,"column":11,"nodeType":"238","endLine":54,"endColumn":42},{"ruleId":"236","severity":1,"message":"239","line":59,"column":11,"nodeType":"238","endLine":59,"endColumn":80},{"ruleId":"225","severity":1,"message":"240","line":1,"column":17,"nodeType":"227","messageId":"228","endLine":1,"endColumn":26},{"ruleId":"236","severity":1,"message":"239","line":8,"column":23,"nodeType":"238","endLine":8,"endColumn":26},{"ruleId":"236","severity":1,"message":"239","line":45,"column":9,"nodeType":"238","endLine":45,"endColumn":12},{"ruleId":"225","severity":1,"message":"241","line":4,"column":9,"nodeType":"227","messageId":"228","endLine":4,"endColumn":14},{"ruleId":"242","severity":1,"message":"243","line":8,"column":10,"nodeType":"227","messageId":"228","endLine":8,"endColumn":13},{"ruleId":"242","severity":1,"message":"244","line":1,"column":14,"nodeType":"227","messageId":"228","endLine":1,"endColumn":25},{"ruleId":"242","severity":1,"message":"245","line":1,"column":46,"nodeType":"227","messageId":"228","endLine":1,"endColumn":54},{"ruleId":"242","severity":1,"message":"246","line":30,"column":10,"nodeType":"227","messageId":"228","endLine":30,"endColumn":18},{"ruleId":"242","severity":1,"message":"247","line":30,"column":20,"nodeType":"227","messageId":"228","endLine":30,"endColumn":27},{"ruleId":"242","severity":1,"message":"248","line":33,"column":7,"nodeType":"227","messageId":"228","endLine":33,"endColumn":24},{"ruleId":"242","severity":1,"message":"245","line":1,"column":16,"nodeType":"227","messageId":"228","endLine":1,"endColumn":24},{"ruleId":"242","severity":1,"message":"240","line":1,"column":34,"nodeType":"227","messageId":"228","endLine":1,"endColumn":43},{"ruleId":"242","severity":1,"message":"249","line":8,"column":8,"nodeType":"227","messageId":"228","endLine":8,"endColumn":15},{"ruleId":"242","severity":1,"message":"250","line":4,"column":10,"nodeType":"227","messageId":"228","endLine":4,"endColumn":16},{"ruleId":"242","severity":1,"message":"251","line":6,"column":10,"nodeType":"227","messageId":"228","endLine":6,"endColumn":17},{"ruleId":"242","severity":1,"message":"252","line":41,"column":11,"nodeType":"227","messageId":"228","endLine":41,"endColumn":19},{"ruleId":"242","severity":1,"message":"253","line":41,"column":21,"nodeType":"227","messageId":"228","endLine":41,"endColumn":26},{"ruleId":"242","severity":1,"message":"254","line":41,"column":28,"nodeType":"227","messageId":"228","endLine":41,"endColumn":34},{"ruleId":"242","severity":1,"message":"255","line":41,"column":36,"nodeType":"227","messageId":"228","endLine":41,"endColumn":44},{"ruleId":"236","severity":1,"message":"239","line":100,"column":11,"nodeType":"238","endLine":100,"endColumn":14},{"ruleId":"256","severity":1,"message":"257","line":42,"column":7,"nodeType":"258","endLine":42,"endColumn":24,"suggestions":"259"},{"ruleId":"242","severity":1,"message":"260","line":5,"column":10,"nodeType":"227","messageId":"228","endLine":5,"endColumn":20},{"ruleId":"242","severity":1,"message":"261","line":21,"column":9,"nodeType":"227","messageId":"228","endLine":21,"endColumn":14},{"ruleId":"242","severity":1,"message":"262","line":22,"column":9,"nodeType":"227","messageId":"228","endLine":22,"endColumn":18},{"ruleId":"242","severity":1,"message":"263","line":11,"column":5,"nodeType":"227","messageId":"228","endLine":11,"endColumn":13},{"ruleId":"242","severity":1,"message":"264","line":12,"column":7,"nodeType":"227","messageId":"228","endLine":12,"endColumn":20},{"ruleId":"265","severity":1,"message":"266","line":155,"column":7,"nodeType":"267","messageId":"268","endLine":158,"endColumn":8},{"ruleId":"265","severity":1,"message":"266","line":177,"column":7,"nodeType":"267","messageId":"268","endLine":182,"endColumn":8},{"ruleId":"265","severity":1,"message":"266","line":188,"column":5,"nodeType":"267","messageId":"268","endLine":193,"endColumn":6},{"ruleId":"221","replacedBy":"269"},{"ruleId":"223","replacedBy":"270"},{"ruleId":"225","severity":1,"message":"271","line":1,"column":10,"nodeType":"227","messageId":"228","endLine":1,"endColumn":19},{"ruleId":"225","severity":1,"message":"272","line":9,"column":10,"nodeType":"227","messageId":"228","endLine":9,"endColumn":24},{"ruleId":"242","severity":1,"message":"273","line":3,"column":15,"nodeType":"227","messageId":"228","endLine":3,"endColumn":20},{"ruleId":"242","severity":1,"message":"274","line":3,"column":44,"nodeType":"227","messageId":"228","endLine":3,"endColumn":47},{"ruleId":"256","severity":1,"message":"275","line":37,"column":6,"nodeType":"258","endLine":37,"endColumn":8,"suggestions":"276"},"no-native-reassign",["277"],"no-negated-in-lhs",["278"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Provider' is defined but never used.","'useSelector' is defined but never used.","'store' is defined but never used.","'Card' is defined but never used.","'Header' is defined but never used.","'LoginMain' is defined but never used.","'Footer' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'useEffect' is defined but never used.","'width' is assigned a value but never used.","@typescript-eslint/no-unused-vars","'map' is defined but never used.","'useCallback' is defined but never used.","'useState' is defined but never used.","'debounce' is defined but never used.","'storage' is defined but never used.","'Default_Java_Code' is assigned a value but never used.","'confirm' is assigned a value but never used.","'Action' is defined but never used.","'Actions' is defined but never used.","'fontSize' is assigned a value but never used.","'theme' is assigned a value but never used.","'indent' is assigned a value but never used.","'dispatch' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useImperativeHandle has an unnecessary dependency: 'ref'. Either exclude it or remove the dependency array.","ArrayExpression",["279"],"'Main_Light' is defined but never used.","'_okFn' is assigned a value but never used.","'_cancelFn' is assigned a value but never used.","'retryNum' is assigned a value but never used.","'MAX_RETRY_NUM' is assigned a value but never used.","no-throw-literal","Expected an error object to be thrown.","ThrowStatement","object",["277"],["278"],"'takeEvery' is defined but never used.","'TO_PHONE_LOGIN' is defined but never used.","'mapTo' is defined but never used.","'tap' is defined but never used.","React Hook useEffect has a missing dependency: 'setWidth'. Either include it or remove the dependency array. If 'setWidth' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["280"],"no-global-assign","no-unsafe-negation",{"desc":"281","fix":"282"},{"desc":"283","fix":"284"},"Update the dependencies array to be: [setVisible]",{"range":"285","text":"286"},"Update the dependencies array to be: [setWidth]",{"range":"287","text":"288"},[1017,1034],"[setVisible]",[1015,1017],"[setWidth]"]